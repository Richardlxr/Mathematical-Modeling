# 📊 数学建模笔记：整数规划 (Integer Programming)

## 一、 什么是整数规划？

**定义**：当模型中的决策变量（部分或全部）被限制为**整数**时，称为整数规划。

### 1. 整数规划的分类
*   **整数线性规划**：线性规划 + 变量取整限制。
*   **整数非线性规划**：非线性规划 + 变量取整限制。通常无通用精确算法，常需借助**蒙特卡洛模拟**、**智能算法**（如遗传算法）求解。
*   **0-1 整数规划**：变量只能取 $0$ 或 $1$ 的特殊情况，常用于“决策”类问题。

---

## 三、 MATLAB 求解函数：`intlinprog`

MATLAB 使用 `intlinprog` 来解决整数线性规划问题。它比 `linprog` 多了一个关键参数 `intcon`。

### 1. 函数语法
```matlab
[x, val] = intlinprog(f, intcon, A, b, Aeq, beq, lb, ub)
```

### 2. 参数对比表
| 参数 | 意义 | 示例 |
| :--- | :--- | :--- |
| `f` | 目标函数系数向量 | `[-40; -30]` (注意求最大时取负) |
| **`intcon`** | **指定哪些变量必须是整数** | 若第1和第3个变量是整数，则 `intcon = [1, 3]` |
| `A, b` | 不等式约束系数及常数 | $A \cdot x \le b$ |
| `lb, ub` | 变量的上下界 | 对于 0-1 规划，`lb=0, ub=1` |

---

## 四、 0-1 整数规划：决策问题的利器

0-1 规划常用于“做或不做”、“选或不选”的决策。

### 1. 背包问题/选址问题 (单下标变量)
**场景举例**：拟在 8 个小区中建学校，有 6 个备选址，每个选址覆盖范围不同。
*   **决策变量**：$x_i \in \{0, 1\}$，即第 $i$ 个点建不建学校。
*   **目标**：建校数量最少 $\min \sum x_i$。
*   **约束**：确保每个小区都至少被一所学校覆盖。
$$
\text{s. t.} \begin{cases}
x_1 + x_2 + x_3 \geqslant 1 \\
x_4 + x_6 \geqslant 1 \\
x_3 + x_5 \geqslant 1 \\
x_2 + x_4 \geqslant 1 \\
x_5 + x_6 \geqslant 1 \\
x_1 \geqslant 1
\end{cases}
$$
### 2. 指派问题 (双下标变量)
**场景举例**：将 6 台设备分配给 4 个企业，每个企业至少 1 台。
*   **决策变量**：$x_{ij}$，表示第 $i$ 台设备是否分配给第 $j$ 个企业。
*   **特点**：表现为双下标，通常涉及多对多的最优分配。

$$ \text{目标函数为: } \max \sum_{i=1}^{6} \sum_{j=1}^{4} c_{ij} x_{ij}, \text{ s.t. } \begin{cases} \sum_{i=1}^{6} x_{ij} \geqslant 1, j=1, 2, 3, 4, \\ \sum_{j=1}^{4} x_{ij} = 1, i=1, \dots, 6, \\ x_{ij} = 0 \text{ 或 } 1, i=1, \dots, 6; j=1, 2, 3, 4. \end{cases} $$


---

## 五、 蒙特卡洛模拟 (Monte Carlo Simulation)

当问题过于复杂或包含非线性整数约束时，可以使用基于随机采样的蒙特卡洛模拟。

### 1. 核心思想
利用大量随机数进行抽样实验，根据事件发生的频率来估计其概率或寻找近似最优解。

### 2. 经典案例：蒲丰投针 (Buffon's Needle)
*   **目的**：通过随机投针计算圆周率 $\pi$。
*   **原理**：
    1. 在等间距 $a$ 的平行线地板上投掷长为 $l$ 的针。
    2. 统计针与平行线相交的频率 $P$。
    3. 根据概率公式 $P = \frac{2l}{\pi a}$，反推 $\pi = \frac{2l}{Pa}$。

---

## 六、 课后实战练习

### 作业 1：货运利润最大化 (0-1 背包问题)
有 10 件货物，重量和利润如下表。载重限制 $30t$，如何选货利润最大？

| 物品 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 重量(t) | 6 | 3 | 4 | 5 | 1 | 2 | 3 | 5 | 4 | 2 |
| 利润(元) | 540 | 200 | 180 | 350 | 60 | 150 | 280 | 450 | 320 | 120 |

### 作业 2：游泳接力队选拔 (指派问题)
5 名候选人，4 种泳姿的百米成绩如下。如何排兵布阵使总成绩最好？

| 候选人 | 蝶泳 | 仰泳 | 蛙泳 | 自由泳 |
| :--- | :--- | :--- | :--- | :--- |
| 甲 | 66.8 | 75.6 | 87 | 58.6 |
| 乙 | 57.2 | 66 | 66.4 | 53 |
| ... | ... | ... | ... | ... |

---
**提示**：在 MATLAB 中解决作业 2 时，由于每人只能选一种泳姿，且每种泳姿只需一人，记得设置好对应的等式约束 $Aeq$ 和 $beq$。